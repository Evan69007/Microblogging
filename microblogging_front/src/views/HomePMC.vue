<template>
  <div class="min-h-screen bg-gray-900">
    <div class="container mx-auto px-4 py-8 mt-32">
      <h2 class="text-white text-3xl font-bold mb-8 text-center">
        Tous les Posts
      </h2>
      <div class="flex mt-16 justify-center">
        <PostList :posts="posts" />
      </div>
    </div>
  </div>
</template>

<script setup>
// üì¶ Import des fonctions de Vue
import { ref, onMounted } from "vue";

// üìÅ Import du composant d'affichage des posts
import PostList from "@/components/Posts/PostList.vue";

// üåê Import du service API centralis√©
import api from "@/services/api.js";

// üóÉÔ∏è D√©claration d‚Äôune variable r√©active pour stocker les posts r√©cup√©r√©s
const posts = ref([]);

// üîÑ Fonction pour charger les posts depuis l'API
const fetchPosts = async () => {
  const response = await api.getPosts(); // Appel √† l'API pour r√©cup√©rer les posts
  console.log("Donn√©es charg√©es :", response); // Debug dans la console
  posts.value = response; // Mise √† jour de la variable r√©active
};

// ‚è±Ô∏è Quand le composant est mont√©, on d√©clenche la r√©cup√©ration des donn√©es
onMounted(() => {
  fetchPosts();
});
</script>

<style scoped>
/* Styles sp√©cifiques √† la page d'accueil */
</style>

<!-- Ce composant a pour but de :
    Charger automatiquement les posts d√®s l'affichage de la page
    Stocker ces donn√©es dans une variable r√©active (posts)
    Les afficher ensuite via le composant <PostList /> -->
